#cloud-config
hostname: jaidMain
users:
  - name: jaid
    ssh_authorized_keys:
      - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC0yRxU2h2h/+96OIrs0KQbe/q5KLFyEZ8msghqKo0LQRPkfFsh2qT60Qr8OIq/V0nZpqW8v0HUYUA1c4sEF3k+E0Ur1oKD5p9rmTZfPwvSMDJYKjRvN+BwKR4pzwzNfghnsK09r/foy1hDpaOZIOmM8+LtrYxtuN+DcWP8LQ5sod3nYzmTWOlHJrajn2DqtWULhoF8o83r7FqAG02n6vU84BdAZNoNTqgJx/2kLn7OQKRR4nH7CBCGdsS7WyerOWG4lEyPI9Suu9UxUcWlLCitKXIbdKG4F/NjBbsUY240IJI/xjhNK/7Ig4X5q66CcTpGqTYKSTLuhMIA/u2F1i7UzzXhNCenu5YlhoSFucSy3Gf+UiM3ZZorgEhzaONIGHsoMtgf4by1/iR7qL7Ap1j0/t3TUdiDrDAGUBLeFquo/73IHu66cLUTWF8F4WKIOGUBiEretZ/LircNUeSB9rPCNsqR0fi33sDrXsaWu3nctN1d8Tjcwy9GRHo1KhS1FbsrKj90HoSREMnsPvbU4jjUsD9oHUGb2GwaI/4kIXyFdPsgNtWTL4X66FgzIvouexprH0uo1CCIiFh1Pz/+TvwDzIiEwr6Nj1T5UXyaH89H7NjMBqctVy9h1h8GqhXpEP7SAhib43E3QKkx0lUPsd/dVtzt3yDtMsy4+f0lRFU4BQ== jaid.jsx@gmail.com
    sudo: "ALL=(ALL) NOPASSWD: ALL"
    # shell: /bin/bash #/usr/bin/zsh
    # groups: sudo
    ssh_import_id: jaidchen
package_upgrade: true
power_state:
  mode: reboot
  timeout: 60
packages:
  - build-essential
  - subversion
  - autoconf
  - libcppunit-dev
  - time
  - g++
  - gcc
  - ntp
  - libz-dev
  - comerr-dev
  - pkg-config
  - texinfo
  - cfv
  - libcurl3
  - libcurl4-openssl-dev
  - libtool
  - libssl-dev
  - libncurses5-dev
  - ncurses-term
  - libsigc++-2.0-dev
  - libcppunit-dev
  - libncursesw5-dev
  - libx264-dev
  - libnuma-dev
  - libvpx-dev
  - libmp3lame-dev
  - libopus-dev
  - libass-dev
  - x264
  - vpx-tools
  - libfreetype6-dev
  - libvorbis-dev
  - imagemagick
  - gettext
  - cmake
  - yasm
  - python3-pip
  - psmisc
  - ufw
  - htop
  - nano
  - unzip
  - fail2ban
manage_resolv_conf: true
resolv_conf:
  nameservers: ["1.1.1.1", "1.0.0.1"] # v6: 2606:4700:4700::1111 2606:4700:4700::1001
write_files:
  - path: /opt/bin/downloadJaidScript
    permissions: 0755
    owner: root
    content: |
      #!/usr/bin/env bash
      sudo curl --fail --silent --header "Cache-Control: no-cache" --location --retry 3 "https://raw.githubusercontent.com/Jaid/setup-server/master/commands/$1.bash" >"/usr/bin/$1"
      sudo chmod +x "/usr/bin/$1"
      echo Added "/usr/bin/$1"
runcmd:
  - locale-gen --purge de_DE.UTF-8 en_US.UTF-8
  - update-locale
  - /opt/bin/downloadJaidScript installNode
